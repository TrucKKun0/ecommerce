<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ShopEase- eCommerce Website</title>
    
    
    <link rel="shortcut icon" href="images/Favicon/shopease.png" type="image/x-icon"/>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"/>

    <link rel="stylesheet" href="/stylesheet/style.css" />
    <link rel="stylesheet" href="/stylesheet/partial.css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <
  </head>
  <body>
    <%- include('header') %>
    <% if (success.length > 0) { %>
      <div id="successMessage" class="absolute top-5 left-1/2 -translate-x-1/2 -translate-y-1/2 p-3 rounded-md bg-blue-500">
        <span class="inline-block mt-1 mb-1 text-white">
          <%= success %>
        </span>
      </div>
    <% } %>
    <main>
      <div class="hero">
        <h1>Welcome to ShopEase</h1>
        <p>Discover amazing products at unbeatable prices!</p>
      </div>

      <div class="slider-container">
        <div class="slider">
          <div class="list">
            <% slider.forEach(product => { %>
              <div class="item">
                <img src="/public/images/<%= product.productCategory %>/<%= product.productImage %>" alt="<%= product.productName %>" />
                <div class="content">
                  <div class="title">New Arrival</div>
                  <div class="type"><%= product.productName %></div>
                  <div class="description">
                    <%= product.productDescription %>
                  </div>
                  <div class="button">
                    <button  class="add-to-cart" onclick="reloadPage()" data-id="<%= product._id %>" 
                      data-name="<%= product.productName %>" 
                      data-price="<%= product.productPrice %>">ADD TO CART</button>
                  </div>
                </div>
              </div>
            <% }) %>
          </div>
      
          <div class="thumbnail">
            <% slider.forEach(product => { %>
              <div class="item">
                <img src="/public/images/<%= product.productCategory %>/<%= product.productImage %>" alt="<%= product.productName %>" />
              </div>
            <% }) %>
          </div>
      
          <div class="arrowButtons">
            <button class="prev"> < </button>
            <button class="next"> > </button>
          </div>
        </div>
      </div>

      <section id="products" class="product-section featured-products">
        <h2>Featured Products</h2>
        <div id="featured-product-container" class="product-container">
          <!-- Featured products will be dynamically inserted here -->
          <% feature.forEach(product => { %> 
            <div class="product">
              <div class="product-image">
                <img src="/public/images/<%= product.productCategory %>/<%= product.productImage %>" alt="<%= product.productName %>">
              </div>
              <div class="product-info">
                <h3><%= product.productName %></h3>
                <p><%= product.productDescription %></p>
                <p class="price">Rs. <%= product.productPrice %></p>
                <button 
                  class="add-to-cart" onclick="reloadPage()"
                  data-id="<%= product._id %>" 
                  data-name="<%= product.productName %>" 
                  data-price="<%= product.productPrice %>"
                >
                  Add to Cart
                </button>
              </div>
            </div>
          <% }) %>
        </div>
      </section>

      <section class="product-section electronics-products">
        <h2>Electronics</h2>
        <div id="electronics-product-container" class="product-container">
          <% electronics.forEach(product => { %> 
            <div class="product">
              <div class="product-image">
                <img src="/public/images/<%= product.productCategory %>/<%= product.productImage %>" alt="<%= product.productName %>">
              </div>
              <div class="product-info">
                <h3><%= product.productName %></h3>
                <p><%= product.productDescription %></p>
                <p class="price">Rs. <%= product.productPrice %></p>
                <button 
                  class="add-to-cart" onclick="reloadPage"
                  data-id="<%= product._id %>" 
                  data-name="<%= product.productName %>" 
                  data-price="<%= product.productPrice %>"
                >
                  Add to Cart
                </button>
              </div>
            </div>
          <% }) %>
        </div>
      </section>

      <section class="product-section fashion-products">
        <h2>Fashion</h2>
        <div id="fashion-product-container" class="product-container">
          <% fashion.forEach(product => { %> 
            <div class="product">
              <div class="product-image">
                <img src="/public/images/<%= product.productCategory %>/<%= product.productImage %>" alt="<%= product.productName %>">
              </div>
              <div class="product-info">
                <h3><%= product.productName %></h3>
                <p><%= product.productDescription %></p>
                <p class="price">Rs. <%= product.productPrice %></p>
                <button 
                  class="add-to-cart" onclick="reloadPage()"
                  data-id="<%= product._id %>" 
                  data-name="<%= product.productName %>" 
                  data-price="<%= product.productPrice %>"
                >
                  Add to Cart
                </button>
              </div>
            </div>
          <% }) %>
        </div>
      </section>

      <section class="product-section sports-products">
        <h2>Sports</h2>
        <div id="sports-product-container" class="product-container">
          <% sports.forEach(product => { %> 
            <div class="product">
              <div class="product-image">
                <img src="/public/images/<%= product.productCategory %>/<%= product.productImage %>" alt="<%= product.productName %>">
              </div>
              <div class="product-info">
                <h3><%= product.productName %></h3>
                <p><%= product.productDescription %></p>
                <p class="price">Rs. <%= product.productPrice %></p>
                <button 
                  class="add-to-cart" onclick="reloadPage()"
                  data-id="<%= product._id %>" 
                  data-name="<%= product.productName %>" 
                  data-price="<%= product.productPrice %>"
                >
                  Add to Cart
                </button>
              </div>
            </div>
          <% }) %>
        </div>
      </section>

      <section class="product-section home-living-products">
        <h2>Home & Living</h2>
        <div id="home-living-product-container" class="product-container">
          <!-- Home & Living products will be dynamically inserted here -->
          <% homeandliving.forEach(product => { %> 
            <div class="product">
              <div class="product-image">
                <img src="/public/images/<%= product.productCategory %>/<%= product.productImage %>" alt="<%= product.productName %>">
              </div>
              <div class="product-info">
                <h3><%= product.productName %></h3>
                <p><%= product.productDescription %></p>
                <p class="price">Rs. <%= product.productPrice %></p>
                <button 
                  class="add-to-cart" onclick="reloadPage()"
                  data-id="<%= product._id %>" 
                  data-name="<%= product.productName %>" 
                  data-price="<%= product.productPrice %>"
                >
                  Add to Cart
                </button>
              </div>
            </div>
          <% }) %>
        </div>
      </section>
    </main>

    <%- include('footer') %>  

    
    <script src="/script/script.js"></script>
    <script src="/script/slider.js"></script>
    <script src="/script/productHover.js"></script>

    <script>
      const successMessage = document.getElementById('successMessage');
  if (successMessage) {
    setTimeout(() => {
      successMessage.style.opacity = '0';
      successMessage.style.transition = 'opacity 1s ease';
      setTimeout(() => successMessage.remove(), 1000); // Fully remove it after the fade-out
    }, 3000);
  }
  //function to reload the page
  function reloadPage() {
    location.reload();
  }
    </script>
  </body>
</html>
